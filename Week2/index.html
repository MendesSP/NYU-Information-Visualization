<html>
    <head>
        <title>Gapminder Wealth and Health</title>
        <style>
            .item {
                box-shadow: 10px 10px 10px #ccc;
                width: 250px
            }
        </style>
    </head>
    
    <body>
        <h1>D3</h1>
        <input id ="number" type="text" />
        <button onclick = "addNumber()">Add Number</button>
        <div id="viz"></div>
    </body>
    
    <script        
    src="/Users/andremendes/Documents/Programs/d3/d3.min.js" charset="utf-8"></script>
    
    
    <script>
        //Same concept as in CSS - #, ., 
        var viz = d3.select("#viz");
        console.log(viz);
        viz.text("D3js");
        //This is the same as:
        //var viz2 = document.getElementById("viz");
        //viz2.innerHTML = "D3js";
        
        var numbers = [1,2,5,8,6,7,9];
        
        d3.json("https://raw.githubusercontent.com/MendesSP/NYU-Information-Visualization/gh-pages/Week2/data.json", function(error, result) {
            numbers = result;
            render();
        })
        
        //make a function to update the screen 
        function render() {
            var changes  = viz.selectAll("div")
                .data(numbers, function (d) {return d.Food});
            changes.enter()
                    .append("div")
                    //It is possible to change style in ID3
                    .style("color","red")
                    .style({
                        "backgroundColor": "#ccc",
                        border: "solid 1px #000"
                    }).attr("class","item")
                    .text(function(d){ return d.Food + "(" +        d.Deliciousness +")" 
                    });
            changes.exit().remove();
            
            changes.on("click",function(d,i) {
                   numbers.splice(i,1)
                   render();
                   });
        }
        
        function addNumber(){
            //Use D3 to get the value fo the input id number
            //d3.select("number").property("value");
            //You can also do
            var newNumber = d3.select("#number").node().value;
            numbers.push(newNumber);
            render();
        }
    </script>
</html>

